{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{useUser}from\"../UserContext/UserContext\";import logo from'../../image/Logo1.png';import'../../Auth.css';import{signInWithEmailAndPassword,getAuth}from'firebase/auth';import{auth,db}from'/firebaseConfig';import{doc,getDoc}from'firebase/firestore';import{useAuth}from'../hooks/useAuth';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SignIn=()=>{const{setUser}=useUser();const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[errorMessage,setErrorMessage]=useState('');const navigate=useNavigate();const{signIn,error}=useAuth();const handleSignIn=async e=>{e.preventDefault();const authInstance=getAuth();try{const userCredential=await signInWithEmailAndPassword(authInstance,email,password);const uid=userCredential.user.uid;const userDocRef=doc(db,\"users\",uid);const userDoc=await getDoc(userDocRef);if(!userDoc.exists()){throw new Error(\"No such user document!\");}const userData=userDoc.data();console.log('User Data:',userData);setUser(userData);navigate('/account');}catch(error){console.error(\"Error during sign-in:\",error);setErrorMessage(error.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"auth-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"auth-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"auth-logo-link\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Boom Van Behoefte Logo\",className:\"auth-logo\"})}),/*#__PURE__*/_jsxs(\"nav\",{className:\"auth-nav\",children:[/*#__PURE__*/_jsx(Link,{to:\"/signin\",className:\"auth-link active\",children:\"SIGN IN\"}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"auth-link\",children:\"SIGN UP\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-content\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"auth-title\",children:\"SIGN IN\"}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:errorMessage}),/*#__PURE__*/_jsxs(\"form\",{className:\"auth-form\",onSubmit:handleSignIn,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Email\",className:\"auth-input\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Password\",className:\"auth-input\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"auth-button\",children:\"Sign In \\u2192\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"auth-footer\",children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"I don't have an account\"})})]})]});};export default SignIn;","map":{"version":3,"names":["React","useState","Link","useNavigate","useUser","logo","signInWithEmailAndPassword","getAuth","auth","db","doc","getDoc","useAuth","jsx","_jsx","jsxs","_jsxs","SignIn","setUser","email","setEmail","password","setPassword","errorMessage","setErrorMessage","navigate","signIn","error","handleSignIn","e","preventDefault","authInstance","userCredential","uid","user","userDocRef","userDoc","exists","Error","userData","data","console","log","message","className","children","to","src","alt","onSubmit","type","value","onChange","target","placeholder","required"],"sources":["/Users/MaxRosokha/BOOM-VAN-BEHOEFTE-Web-Technologies-Web-Design-Hosting-/src/components/SignIn/SignIn.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useUser } from \"../UserContext/UserContext\";\nimport logo from '../../image/Logo1.png';\nimport '../../Auth.css';\nimport { signInWithEmailAndPassword, getAuth } from 'firebase/auth';\nimport { auth, db } from '/firebaseConfig';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { useAuth } from '../hooks/useAuth';\n\nconst SignIn = () => {\n  const { setUser } = useUser();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const navigate = useNavigate();\n  const { signIn, error } = useAuth();\n\n  const handleSignIn = async (e) => {\n    e.preventDefault();\n\n    const authInstance = getAuth();\n\n    try {\n      const userCredential = await signInWithEmailAndPassword(authInstance, email, password);\n      const uid = userCredential.user.uid;\n\n      const userDocRef = doc(db, \"users\", uid);\n      const userDoc = await getDoc(userDocRef);\n\n      if (!userDoc.exists()) {\n        throw new Error(\"No such user document!\");\n      }\n      const userData = userDoc.data();\n      console.log('User Data:', userData);\n      setUser(userData);\n      navigate('/account');\n\n    } catch (error) {\n      console.error(\"Error during sign-in:\", error);\n      setErrorMessage(error.message);\n    }\n  };\n\n  return (\n    <div className=\"auth-container\">\n      <header className=\"auth-header\">\n        <Link to=\"/\" className=\"auth-logo-link\">\n          <img src={logo} alt=\"Boom Van Behoefte Logo\" className=\"auth-logo\" />\n        </Link>\n        <nav className=\"auth-nav\">\n          <Link to=\"/signin\" className=\"auth-link active\">SIGN IN</Link>\n          <Link to=\"/signup\" className=\"auth-link\">SIGN UP</Link>\n        </nav>\n      </header>\n      <div className=\"auth-content\">\n        <h2 className=\"auth-title\">SIGN IN</h2>\n        {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\n        <form className=\"auth-form\" onSubmit={handleSignIn}>\n          <input\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            placeholder=\"Email\"\n            className=\"auth-input\"\n            required\n          />\n          <input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            placeholder=\"Password\"\n            className=\"auth-input\"\n            required\n          />\n          <button type=\"submit\" className=\"auth-button\">Sign In â†’</button>\n        </form>\n        <p className=\"auth-footer\">\n          <Link to=\"/signup\">I don't have an account</Link>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default SignIn;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}