{"ast":null,"code":"import React,{useState}from'react';import Header from'../Header/header';import'../../Account.css';import Discount1 from'/src/image/Group 39.png';import Discount2 from'/src/image/Group 39.png';import Discount3 from'/src/image/Group 39.png';import{useUser}from'../UserContext/UserContext.js';import{updatePassword,reauthenticateWithCredential,EmailAuthProvider}from'firebase/auth';import{auth}from'/firebaseConfig';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Account=()=>{const[showCoupons,setShowCoupons]=useState(false);const[newPassword,setNewPassword]=useState('');const[currentPassword,setCurrentPassword]=useState('');const[showPasswordForm,setShowPasswordForm]=useState(false);const{user}=useUser();const coupons=[{discount:'10%',code:'FLAT10',validTill:'28th June 2023',image:Discount1},{discount:'15%',code:'SAVE15',validTill:'15th July 2023',image:Discount2},{discount:'20%',code:'SUMMER20',validTill:'1st August 2023',image:Discount3}];const handleUpdatePassword=async()=>{if(!auth.currentUser){alert(\"Користувача не автентифіковано.\");return;}try{const credential=EmailAuthProvider.credential(auth.currentUser.email,currentPassword);await reauthenticateWithCredential(auth.currentUser,credential);await updatePassword(auth.currentUser,newPassword);setNewPassword('');setCurrentPassword('');alert('Пароль оновлено');}catch(error){console.error('Помилка оновлення пароля:',error);alert('Не вдалося оновити пароль. Перевірте правильність даних.');}};const toggleCoupons=()=>setShowCoupons(!showCoupons);const togglePasswordForm=()=>setShowPasswordForm(!showPasswordForm);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"account-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"account-header\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"user-name\",children:[user===null||user===void 0?void 0:user.firstName,\" \",user===null||user===void 0?void 0:user.lastName]}),/*#__PURE__*/_jsx(\"p\",{className:\"user-location\",children:\"Ukraine\"}),/*#__PURE__*/_jsx(\"p\",{className:\"user-status\",children:\"A good person\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"coupon-button\",onClick:toggleCoupons,children:[\"My coupons \",showCoupons?'▲':'▼']})]}),showCoupons&&/*#__PURE__*/_jsx(\"div\",{className:\"coupons-container\",children:coupons.length>0?coupons.map((coupon,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"coupon\",children:[/*#__PURE__*/_jsx(\"img\",{src:coupon.image,alt:`Coupon ${index+1}`,className:\"coupon-image\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"discount\",children:[coupon.discount,\" Off\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"code\",children:[\"Code: \",coupon.code]}),/*#__PURE__*/_jsxs(\"p\",{className:\"validity\",children:[\"Valid till \",coupon.validTill]})]},index)):/*#__PURE__*/_jsx(\"p\",{children:\"No coupons available.\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"toggle-password-form\",onClick:togglePasswordForm,children:\"\\u0417\\u043C\\u0456\\u043D\\u0438\\u0442\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),showPasswordForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"update-form\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0417\\u043C\\u0456\\u043D\\u0438\\u0442\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u041F\\u043E\\u0442\\u043E\\u0447\\u043D\\u0438\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",value:currentPassword,onChange:e=>setCurrentPassword(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u041D\\u043E\\u0432\\u0438\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",value:newPassword,onChange:e=>setNewPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpdatePassword,children:\"\\u041E\\u043D\\u043E\\u0432\\u0438\\u0442\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"})]})]})]});};export default Account;","map":{"version":3,"names":["React","useState","Header","Discount1","Discount2","Discount3","useUser","updatePassword","reauthenticateWithCredential","EmailAuthProvider","auth","jsx","_jsx","jsxs","_jsxs","Account","showCoupons","setShowCoupons","newPassword","setNewPassword","currentPassword","setCurrentPassword","showPasswordForm","setShowPasswordForm","user","coupons","discount","code","validTill","image","handleUpdatePassword","currentUser","alert","credential","email","error","console","toggleCoupons","togglePasswordForm","children","className","firstName","lastName","onClick","length","map","coupon","index","src","alt","type","placeholder","value","onChange","e","target"],"sources":["/Users/MaxRosokha/BOOM-VAN-BEHOEFTE-Web-Technologies-Web-Design-Hosting-/src/components/Account/Account.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Header from '../Header/header';\nimport '../../Account.css';\nimport Discount1 from '/src/image/Group 39.png';\nimport Discount2 from '/src/image/Group 39.png';\nimport Discount3 from '/src/image/Group 39.png';\nimport { useUser } from '../UserContext/UserContext.js';\nimport { updatePassword, reauthenticateWithCredential, EmailAuthProvider } from 'firebase/auth';\nimport { auth } from '/firebaseConfig';\n\nconst Account = () => {\n  const [showCoupons, setShowCoupons] = useState(false);\n  const [newPassword, setNewPassword] = useState('');\n  const [currentPassword, setCurrentPassword] = useState('');\n  const [showPasswordForm, setShowPasswordForm] = useState(false);\n  const { user } = useUser();\n\n  const coupons = [\n    { discount: '10%', code: 'FLAT10', validTill: '28th June 2023', image: Discount1 },\n    { discount: '15%', code: 'SAVE15', validTill: '15th July 2023', image: Discount2 },\n    { discount: '20%', code: 'SUMMER20', validTill: '1st August 2023', image: Discount3 }\n  ];\n\n  const handleUpdatePassword = async () => {\n    if (!auth.currentUser) {\n      alert(\"Користувача не автентифіковано.\");\n      return;\n    }\n\n    try {\n      const credential = EmailAuthProvider.credential(\n        auth.currentUser.email,\n        currentPassword\n      );\n      await reauthenticateWithCredential(auth.currentUser, credential);\n      await updatePassword(auth.currentUser, newPassword);\n      setNewPassword('');\n      setCurrentPassword('');\n      alert('Пароль оновлено');\n    } catch (error) {\n      console.error('Помилка оновлення пароля:', error);\n      alert('Не вдалося оновити пароль. Перевірте правильність даних.');\n    }\n  };\n\n  const toggleCoupons = () => setShowCoupons(!showCoupons);\n  const togglePasswordForm = () => setShowPasswordForm(!showPasswordForm);\n\n  return (\n    <div>\n      <Header />\n      <div className=\"account-container\">\n        <header className=\"account-header\">\n          <h1 className=\"user-name\">{user?.firstName} {user?.lastName}</h1>\n          <p className=\"user-location\">Ukraine</p>\n          <p className=\"user-status\">A good person</p>\n          <button className=\"coupon-button\" onClick={toggleCoupons}>\n            My coupons {showCoupons ? '▲' : '▼'}\n          </button>\n        </header>\n\n        {showCoupons && (\n          <div className=\"coupons-container\">\n            {coupons.length > 0 ? (\n              coupons.map((coupon, index) => (\n                <div key={index} className=\"coupon\">\n                  <img src={coupon.image} alt={`Coupon ${index + 1}`} className=\"coupon-image\" />\n                  <p className=\"discount\">{coupon.discount} Off</p>\n                  <p className=\"code\">Code: {coupon.code}</p>\n                  <p className=\"validity\">Valid till {coupon.validTill}</p>\n                </div>\n              ))\n            ) : (\n              <p>No coupons available.</p>\n            )}\n          </div>\n        )}\n\n        <button className=\"toggle-password-form\" onClick={togglePasswordForm}>\n          Змінити пароль\n        </button>\n\n        {showPasswordForm && (\n          <div className=\"update-form\">\n            <h3>Змінити пароль</h3>\n            <input\n              type=\"password\"\n              placeholder=\"Поточний пароль\"\n              value={currentPassword}\n              onChange={(e) => setCurrentPassword(e.target.value)}\n            />\n            <input\n              type=\"password\"\n              placeholder=\"Новий пароль\"\n              value={newPassword}\n              onChange={(e) => setNewPassword(e.target.value)}\n            />\n            <button onClick={handleUpdatePassword}>Оновити пароль</button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Account;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}