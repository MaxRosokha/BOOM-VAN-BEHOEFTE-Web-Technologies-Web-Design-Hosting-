{"ast":null,"code":"import React,{createContext,useContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const FavoriteContext=/*#__PURE__*/createContext();export const useFavoriteContext=()=>{return useContext(FavoriteContext);};export const FavoriteProvider=_ref=>{let{children}=_ref;const[favoriteItems,setFavoriteItems]=useState(()=>{const storedItems=JSON.parse(localStorage.getItem('favoriteItems'))||[];return storedItems;});useEffect(()=>{localStorage.setItem('favoriteItems',JSON.stringify(favoriteItems));},[favoriteItems]);const addFavoriteItem=item=>{setFavoriteItems(prevItems=>{const existingItem=prevItems.find(prevItem=>prevItem.title===item.title&&prevItem.selectedColor===item.selectedColor&&prevItem.selectedSize===item.selectedSize);if(existingItem){// Якщо товар вже є в улюблених, оновлюємо його кількість\nreturn prevItems.map(prevItem=>prevItem.title===existingItem.title&&prevItem.selectedColor===existingItem.selectedColor&&prevItem.selectedSize===existingItem.selectedSize?{...prevItem,quantity:(prevItem.quantity||1)+1}:prevItem);}return[...prevItems,{...item,quantity:1}];});};const removeFavoriteItem=item=>{setFavoriteItems(prevItems=>prevItems.map(prevItem=>prevItem.title===item.title&&prevItem.selectedColor===item.selectedColor&&prevItem.selectedSize===item.selectedSize?{...prevItem,quantity:prevItem.quantity-1}:prevItem).filter(prevItem=>prevItem.quantity>0)// Фільтруємо товари з нульовою кількістю\n);};return/*#__PURE__*/_jsx(FavoriteContext.Provider,{value:{favoriteItems,addFavoriteItem,removeFavoriteItem},children:children});};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsx","_jsx","FavoriteContext","useFavoriteContext","FavoriteProvider","_ref","children","favoriteItems","setFavoriteItems","storedItems","JSON","parse","localStorage","getItem","setItem","stringify","addFavoriteItem","item","prevItems","existingItem","find","prevItem","title","selectedColor","selectedSize","map","quantity","removeFavoriteItem","filter","Provider","value"],"sources":["/Users/MaxRosokha/BOOM-VAN-BEHOEFTE-Web-Technologies-Web-Design-Hosting-/src/components/Favorite/FavoriteContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\n\nconst FavoriteContext = createContext();\n\nexport const useFavoriteContext = () => {\n  return useContext(FavoriteContext);\n};\n\nexport const FavoriteProvider = ({ children }) => {\n  const [favoriteItems, setFavoriteItems] = useState(() => {\n    const storedItems = JSON.parse(localStorage.getItem('favoriteItems')) || [];\n    return storedItems;\n  });\n\n  useEffect(() => {\n    localStorage.setItem('favoriteItems', JSON.stringify(favoriteItems));\n  }, [favoriteItems]);\n\n  const addFavoriteItem = (item) => {\n    setFavoriteItems((prevItems) => {\n      const existingItem = prevItems.find((prevItem) =>\n        prevItem.title === item.title &&\n        prevItem.selectedColor === item.selectedColor &&\n        prevItem.selectedSize === item.selectedSize\n      );\n\n      if (existingItem) {\n        // Якщо товар вже є в улюблених, оновлюємо його кількість\n        return prevItems.map((prevItem) =>\n          prevItem.title === existingItem.title &&\n          prevItem.selectedColor === existingItem.selectedColor &&\n          prevItem.selectedSize === existingItem.selectedSize\n            ? { ...prevItem, quantity: (prevItem.quantity || 1) + 1 }\n            : prevItem\n        );\n      }\n\n      return [...prevItems, { ...item, quantity: 1 }];\n    });\n  };\n\n  const removeFavoriteItem = (item) => {\n    setFavoriteItems((prevItems) =>\n      prevItems\n        .map((prevItem) =>\n          prevItem.title === item.title &&\n          prevItem.selectedColor === item.selectedColor &&\n          prevItem.selectedSize === item.selectedSize\n            ? { ...prevItem, quantity: prevItem.quantity - 1 }\n            : prevItem\n        )\n        .filter((prevItem) => prevItem.quantity > 0) // Фільтруємо товари з нульовою кількістю\n    );\n  };\n\n  return (\n    <FavoriteContext.Provider value={{ favoriteItems, addFavoriteItem, removeFavoriteItem }}>\n      {children}\n    </FavoriteContext.Provider>\n  );\n};\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9E,KAAM,CAAAC,eAAe,cAAGN,aAAa,CAAC,CAAC,CAEvC,MAAO,MAAM,CAAAO,kBAAkB,CAAGA,CAAA,GAAM,CACtC,MAAO,CAAAN,UAAU,CAACK,eAAe,CAAC,CACpC,CAAC,CAED,MAAO,MAAM,CAAAE,gBAAgB,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC3C,KAAM,CAACE,aAAa,CAAEC,gBAAgB,CAAC,CAAGV,QAAQ,CAAC,IAAM,CACvD,KAAM,CAAAW,WAAW,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAAC,EAAI,EAAE,CAC3E,MAAO,CAAAJ,WAAW,CACpB,CAAC,CAAC,CAEFV,SAAS,CAAC,IAAM,CACda,YAAY,CAACE,OAAO,CAAC,eAAe,CAAEJ,IAAI,CAACK,SAAS,CAACR,aAAa,CAAC,CAAC,CACtE,CAAC,CAAE,CAACA,aAAa,CAAC,CAAC,CAEnB,KAAM,CAAAS,eAAe,CAAIC,IAAI,EAAK,CAChCT,gBAAgB,CAAEU,SAAS,EAAK,CAC9B,KAAM,CAAAC,YAAY,CAAGD,SAAS,CAACE,IAAI,CAAEC,QAAQ,EAC3CA,QAAQ,CAACC,KAAK,GAAKL,IAAI,CAACK,KAAK,EAC7BD,QAAQ,CAACE,aAAa,GAAKN,IAAI,CAACM,aAAa,EAC7CF,QAAQ,CAACG,YAAY,GAAKP,IAAI,CAACO,YACjC,CAAC,CAED,GAAIL,YAAY,CAAE,CAChB;AACA,MAAO,CAAAD,SAAS,CAACO,GAAG,CAAEJ,QAAQ,EAC5BA,QAAQ,CAACC,KAAK,GAAKH,YAAY,CAACG,KAAK,EACrCD,QAAQ,CAACE,aAAa,GAAKJ,YAAY,CAACI,aAAa,EACrDF,QAAQ,CAACG,YAAY,GAAKL,YAAY,CAACK,YAAY,CAC/C,CAAE,GAAGH,QAAQ,CAAEK,QAAQ,CAAE,CAACL,QAAQ,CAACK,QAAQ,EAAI,CAAC,EAAI,CAAE,CAAC,CACvDL,QACN,CAAC,CACH,CAEA,MAAO,CAAC,GAAGH,SAAS,CAAE,CAAE,GAAGD,IAAI,CAAES,QAAQ,CAAE,CAAE,CAAC,CAAC,CACjD,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAC,kBAAkB,CAAIV,IAAI,EAAK,CACnCT,gBAAgB,CAAEU,SAAS,EACzBA,SAAS,CACNO,GAAG,CAAEJ,QAAQ,EACZA,QAAQ,CAACC,KAAK,GAAKL,IAAI,CAACK,KAAK,EAC7BD,QAAQ,CAACE,aAAa,GAAKN,IAAI,CAACM,aAAa,EAC7CF,QAAQ,CAACG,YAAY,GAAKP,IAAI,CAACO,YAAY,CACvC,CAAE,GAAGH,QAAQ,CAAEK,QAAQ,CAAEL,QAAQ,CAACK,QAAQ,CAAG,CAAE,CAAC,CAChDL,QACN,CAAC,CACAO,MAAM,CAAEP,QAAQ,EAAKA,QAAQ,CAACK,QAAQ,CAAG,CAAC,CAAE;AACjD,CAAC,CACH,CAAC,CAED,mBACEzB,IAAA,CAACC,eAAe,CAAC2B,QAAQ,EAACC,KAAK,CAAE,CAAEvB,aAAa,CAAES,eAAe,CAAEW,kBAAmB,CAAE,CAAArB,QAAA,CACrFA,QAAQ,CACe,CAAC,CAE/B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}